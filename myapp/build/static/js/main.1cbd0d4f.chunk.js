(this["webpackJsonpvoice-recorder-example"]=this["webpackJsonpvoice-recorder-example"]||[]).push([[0],{21:function(e,t,c){},27:function(e,t,c){},29:function(e,t,c){},31:function(e,t,c){},32:function(e,t,c){"use strict";c.r(t);var n=c(2),r=c.n(n),i=c(13),a=c.n(i),o=(c(21),c(16)),s=c(4),d=c(5);c(27);var u=c(0);function j(e){var t,c,n=e.recorderState,r=e.handlers,i=n.recordingMinutes,a=n.recordingSeconds,o=n.initRecording,j=r.startRecording,l=r.saveRecording,b=r.cancelRecording;return Object(u.jsxs)("div",{className:"controls-container",children:[Object(u.jsxs)("div",{className:"recorder-display",children:[Object(u.jsxs)("div",{className:"recording-time",children:[o&&Object(u.jsx)("div",{className:"recording-indicator"}),Object(u.jsx)("span",{children:(c=i,c<10?"0".concat(c):c)}),Object(u.jsx)("span",{children:":"}),Object(u.jsx)("span",{children:(t=a,t<10?"0".concat(t):t)})]}),o&&Object(u.jsx)("div",{className:"cancel-button-container",children:Object(u.jsx)("button",{className:"cancel-button",title:"Cancel recording",onClick:b,children:Object(u.jsx)(s.a,{icon:d.d})})})]}),Object(u.jsx)("div",{className:"start-button-container",children:o?Object(u.jsx)("button",{className:"start-button",title:"Save recording",disabled:0===a,onClick:l,children:Object(u.jsx)(s.a,{icon:d.c,size:"2x"})}):Object(u.jsx)("button",{className:"start-button",title:"Start recording",onClick:j,children:Object(u.jsx)(s.a,{icon:d.b,size:"2x"})})})]})}var l=c(15),b=c(9);var O=c(34);var h=function(){return Object(O.a)()};c(29);function x(e){var t=function(e){var t=Object(n.useState)([]),c=Object(b.a)(t,2),r=c[0],i=c[1];return Object(n.useEffect)((function(){e&&i((function(t){return[].concat(Object(l.a)(t),[{key:h(),audio:e}])}))}),[e]),{recordings:r,deleteAudio:function(e){return function(e,t){t((function(t){return t.filter((function(t){return t.key!==e}))}))}(e,i)}}}(e.audio),c=t.recordings,r=t.deleteAudio;return Object(u.jsx)("div",{className:"recordings-container",children:c.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{children:"Your recordings"}),Object(u.jsx)("div",{className:"recordings-list",children:c.map((function(e){return Object(u.jsxs)("div",{className:"record",children:[Object(u.jsx)("audio",{controls:!0,src:e.audio}),Object(u.jsx)("div",{className:"delete-button-container",children:Object(u.jsx)("button",{className:"delete-button",title:"Delete this audio",onClick:function(){return r(e.key)},children:Object(u.jsx)(s.a,{icon:d.e})})})]},e.key)}))})]}):Object(u.jsxs)("div",{className:"no-records",children:[Object(u.jsx)(s.a,{icon:d.a,size:"2x",color:"#f2ea02"}),Object(u.jsx)("span",{children:"You don't have records"})]})})}var f=c(3),v=c(12),m=c.n(v),p=c(14);function g(){return(g=Object(p.a)(m.a.mark((function e(t){var c;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:c=e.sent,t((function(e){return Object(f.a)(Object(f.a)({},e),{},{initRecording:!0,mediaStream:c})})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var S={recordingMinutes:0,recordingSeconds:0,initRecording:!1,mediaStream:null,mediaRecorder:null,audio:null};function R(){var e=Object(n.useState)(S),t=Object(b.a)(e,2),c=t[0],r=t[1];return Object(n.useEffect)((function(){var e=null;return c.initRecording?e=setInterval((function(){r((function(t){return 5===t.recordingMinutes&&0===t.recordingSeconds?(clearInterval(e),t):t.recordingSeconds>=0&&t.recordingSeconds<59?Object(f.a)(Object(f.a)({},t),{},{recordingSeconds:t.recordingSeconds+1}):59===t.recordingSeconds?Object(f.a)(Object(f.a)({},t),{},{recordingMinutes:t.recordingMinutes+1,recordingSeconds:0}):void 0}))}),1e3):clearInterval(e),function(){return clearInterval(e)}})),Object(n.useEffect)((function(){c.mediaStream&&r((function(e){return Object(f.a)(Object(f.a)({},e),{},{mediaRecorder:new MediaRecorder(e.mediaStream)})}))}),[c.mediaStream]),Object(n.useEffect)((function(){var e=c.mediaRecorder,t=[];return e&&"inactive"===e.state&&(e.start(),e.ondataavailable=function(e){t.push(e.data)},e.onstop=function(){var e=new Blob(t,{type:"audio/wav; codecs=opus"});t=[],r((function(t){return t.mediaRecorder?Object(f.a)(Object(f.a)({},S),{},{audio:window.URL.createObjectURL(e)}):S}))}),function(){e&&e.stream.getAudioTracks().forEach((function(e){return e.stop()}))}}),[c.mediaRecorder]),{recorderState:c,startRecording:function(){return function(e){return g.apply(this,arguments)}(r)},cancelRecording:function(){return r(S)},saveRecording:function(){var e;"inactive"!==(e=c.mediaRecorder).state&&e.stop()}}}c(31);function N(){var e=R(),t=e.recorderState,c=Object(o.a)(e,["recorderState"]),n=t.audio;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h1",{className:"app_header",children:"Transcribe your voice to text "}),Object(u.jsxs)("section",{className:"voice-recorder",children:[Object(u.jsx)("h1",{className:"title",children:"Voice Recorder"}),Object(u.jsxs)("div",{className:"recorder-container",children:[Object(u.jsx)(j,{recorderState:t,handlers:c}),Object(u.jsx)(x,{audio:n})]})]})]}),Object(u.jsxs)("div",{className:"speechContainer",children:[Object(u.jsx)("h3",{children:"Upload your .wav file"}),Object(u.jsxs)("form",{method:"post",encType:"multipart/form-data",children:[Object(u.jsx)("input",{type:"file",name:"file"}),Object(u.jsx)("br",{}),Object(u.jsx)("h3",{children:"Convert audio to text "}),Object(u.jsx)("input",{type:"submit",id:"submitButton",defaultValue:"Transcribe"})]}),Object(u.jsx)("div",{id:"speechTranscript",children:Object(u.jsxs)("div",{id:"speechTranscriptContainer",children:[Object(u.jsx)("h1",{children:"Results"}),Object(u.jsxs)("p",{id:"speechText",children:[" ",Object(u.jsx)("deploy",{prop:"{state}",children:" "})]})]})})]})]})}a.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(N,{})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.1cbd0d4f.chunk.js.map